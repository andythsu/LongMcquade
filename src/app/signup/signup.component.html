<div *ngIf="raiseAlert">
  <app-alert [data]="alertData"></app-alert>
</div>
<div class="container">
  <h2>
    Signup as
    {{
      showStudentSignup
        ? "student"
        : showTutorSignup
        ? "tutor"
        : showMusicianSignup
        ? "musician"
        : showOrganizationSignup
        ? "organization"
        : ""
    }}
  </h2>
  <form>
    <div class="form-group">
      <input
        #usernameField
        name="username"
        class="form-control"
        placeholder="Username"
        [(ngModel)]="username"
        autofocus
      />
    </div>
    <div class="form-group">
      <input
        type="password"
        name="password"
        class="form-control"
        placeholder="Password"
        [(ngModel)]="password"
      />
    </div>

    <div class="form-group">
      <input
        type="number"
        name="age"
        class="form-control"
        placeholder="Age"
        [(ngModel)]="age"
      />
    </div>

    <div class="form-group">
      <label for="gender">Gender:</label>
      <select name="genderSelect" class="form-control" [(ngModel)]="gender">
        <option value="0" selected>Male</option>
        <option value="1">Female</option>
      </select>
    </div>

    <ng-container
      *ngTemplateOutlet="
        showStudentSignup ? studentSignupTemplate : emptyTemplate
      "
    >
    </ng-container>

    <ng-container
      *ngTemplateOutlet="showTutorSignup ? tutorSignupTemplate : emptyTemplate"
    >
    </ng-container>

    <ng-container
      *ngTemplateOutlet="
        showMusicianSignup ? musicianSignupTemplate : emptyTemplate
      "
    >
    </ng-container>

    <ng-container
      *ngTemplateOutlet="
        showOrganizationSignup ? organizationSignupTemplate : emptyTemplate
      "
    >
    </ng-container>

    <button (click)="onSubmitBtn()" class="btn btn-primary">Submit</button>

    <button (click)="onSignupType(UserTypeEnum.STUDENT)" class="btn btn-link">
      Sign up as student
    </button>
    <button (click)="onSignupType(UserTypeEnum.TUTOR)" class="btn btn-link">
      Sign up as tutor
    </button>
    <button (click)="onSignupType(UserTypeEnum.MUSICIAN)" class="btn btn-link">
      Sign up as musician
    </button>
    <button
      (click)="onSignupType(UserTypeEnum.ORGANIZATION)"
      class="btn btn-link"
    >
      Sign up as organization
    </button>

    <button class="btn btn-danger" style="float: right" (click)="onCancelBtn()">
      Cancel
    </button>
  </form>
</div>

<ng-template #studentSignupTemplate>
  <div class="form-group">
    <input
      name="instrument"
      class="form-control"
      placeholder="what instrument do you play"
      [(ngModel)]="student.instrument"
    />
  </div>
</ng-template>
<ng-template #tutorSignupTemplate>
  <div class="form-group">
    <input
      name="location"
      class="form-control"
      placeholder="what location do you prefer teaching at"
      [(ngModel)]="tutor.location"
    />
  </div>
  <div class="form-group">
    <input
      name="instrument"
      class="form-control"
      placeholder="what instrument do you play"
      [(ngModel)]="tutor.instrument"
    />
  </div>
</ng-template>
<ng-template #organizationSignupTemplate>
  <div class="form-group">
    <input
      name="instrument"
      class="form-control"
      placeholder="what is the organization name"
      [(ngModel)]="organization.name"
    />
  </div>
</ng-template>
<ng-template #musicianSignupTemplate>
  <div class="form-group">
    <input
      name="instrument"
      class="form-control"
      placeholder="what instrument do you play"
      [(ngModel)]="musician.instrument"
    />
  </div>
</ng-template>

<ng-template #emptyTemplate></ng-template>
